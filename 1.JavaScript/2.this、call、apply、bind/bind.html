<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- bind方法：进行this绑定。返回值是一个函数，函数中的this就是bind的参数对象。 -->
    <script>
        Function.prototype.myBind = function (content) {
            let that = this
            let args = [...arguments][1]
            return function () {
                return that.apply(content, args)
            }
        }
        // 测试
        var foo = {
            value: 1
        };
        function bar(name, age) {
            console.log(' name: ' + name + ' age: ' + age + ' value: ' + this.value)
        }
        let fn = bar.myBind(foo, ['kevin', 18]);
        fn()
    </script>

    <!-- 不借助call、apply实现 -->
    <script>
        Function.prototype.myBind = function (content) {
            content.fn = this
            let args = [...arguments[1]]
            return function () {
                content.fn(...args);
            };
            delete content.fn;
        };
        function bar(name, age) {
            console.log(' name: ' + name + ' age: ' + age + ' value: ' + this.value)
        }
        let fn2 = bar.myBind(foo, ['kevin', 18]);
        fn2()
    </script>
    <script>
        /**
         * 偏函数:bind() 的另一个最简单的用法是使一个函数拥有预设的初始参数。
         * 只要将这些参数（如果有的话）作为 bind() 的参数写在 this 后面。
         * 当绑定函数被调用时，这些参数会被插入到目标函数的参数列表的开始位置，
         * 传递给绑定函数的参数会跟在它们后面。
         * 
        */
        function list() {
            return Array.prototype.slice.call(arguments);
        }

        var list1 = list(1, 2, 3); // [1, 2, 3]

        // 创建一个函数，它拥有预设参数列表。
        var leadingThirtysevenList = list.bind(null, 37);

        var list2 = leadingThirtysevenList();// [37]

        var list3 = leadingThirtysevenList(1, 2, 3);// [37, 1, 2, 3]

    </script>
</body>

</html>