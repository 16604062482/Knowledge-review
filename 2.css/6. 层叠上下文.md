- 判断元素在 Z 轴上的堆叠顺序，实际由元素的【层叠上下文、层叠等级】共同决定。

  - 层叠上下文：
  - 层叠上下文的创建 一般有 3 种方法：

    - HTML 中的根元素<html></html>本身就具有层叠上下文，称为“根层叠上下文”。
    - 普通元素设置 position 属性为非 static 值并设置 z-index 属性为具体数值（非 auto），产生层叠上下文。
    - CSS3 中的新属性也可以产生层叠上下文。

- 层叠顺序：网页设计之初最重要的是文字内容，所以在发生层叠时会优先显示文字内容，保证其不被覆盖。

  > 【background/border】 < 【z-index<0】 < 【block 元素】 < 【float 浮动】< 【inline/inline-block】 < 【z-index:auto/z-index:0】< 【z-index>0】

* 判断层叠关系：
  - 首先先看要比较的两个元素是否处于同一个层叠上下文中：
  - 如果是，谁的层叠等级大，谁在上面（怎么判断层叠等级大小呢？——看“层叠顺序”图）。
  - 如果两个元素不在统一层叠上下文中，请先比较他们所处的层叠上下文的层叠等级。
  - 当两个元素层叠等级相同、层叠顺序相同时，在 DOM 结构中后面的元素层叠等级在前面元素之上。

- CSS 中出现以下属性，会产生层叠上下文：
  - 父元素的 display 属性值为 flex|inline-flex，子元素 z-index 属性值不为 auto 的时候，子元素为层叠上下文元素；
  - 元素的 opacity 属性值不是 1；
  - 元素的 transform 属性值不是 none；
  - 元素的 filter（加滤镜、模糊） 属性值不是 none；
  - 元素的 isolation 属性值是 isolate；
    > isolation:定义该元素是否必须创建一个新的层叠上下文
